.IFJcode17
JUMP main

# FUNCTION
LABEL factorial
CREATEFRAME
DEFVAR TF@temp_result
MOVE TF@temp_result int@0
DEFVAR TF@decremented_n
MOVE TF@decremented_n int@0
DEFVAR TF@result
MOVE TF@result int@0
# IF BLOCK
# IF
PUSHS LF@n
PUSHS int@2
LTS
PUSHS bool@true
JUMPIFNEQS __INTERNAL__COND_0_END
# THEN
PUSHS int@1
POPS TF@result
CLEARS
JUMP __INTERNAL__COND_0_BLOCK_END
LABEL __INTERNAL__COND_0_END
# ELSE
PUSHS LF@n
PUSHS int@1
SUBS
POPS TF@decremented_n
CLEARS
PUSHFRAME
CREATEFRAME
PUSHS LF@decremented_n
DEFVAR TF@n
POPS TF@n
PUSHFRAME
CALL factorial
POPFRAME
POPS TF@temp_result
CLEARS
PUSHS LF@n
PUSHS TF@temp_result
MULS
POPS TF@result
CLEARS
# END IF
LABEL __INTERNAL__COND_0_BLOCK_END
# END IF BLOCK
PUSHS TF@result
POPFRAME
RETURN
# END FUNCTION

# MAIN
LABEL main
CREATEFRAME
DEFVAR TF@a
MOVE TF@a int@0
DEFVAR TF@vysl
MOVE TF@vysl int@0
PUSHS string@Zadejte\032cislo\032pro\032vypocet\032faktorialu
DEFVAR TF@__INTERNAL__VAR_0
POPS TF@__INTERNAL__VAR_0
WRITE TF@__INTERNAL__VAR_0
READ TF@a int
# IF BLOCK
# IF
PUSHS TF@a
PUSHS int@0
LTS
PUSHS bool@true
JUMPIFNEQS __INTERNAL__COND_1_END
# THEN
PUSHS string@\nFaktorial\032nelze\032spocitat\n
DEFVAR TF@__INTERNAL__VAR_0
POPS TF@__INTERNAL__VAR_0
WRITE TF@__INTERNAL__VAR_0
JUMP __INTERNAL__COND_1_BLOCK_END
LABEL __INTERNAL__COND_1_END
# ELSE
PUSHFRAME
CREATEFRAME
PUSHS LF@a
DEFVAR TF@n
POPS TF@n
PUSHFRAME
CALL factorial
POPFRAME
POPS TF@vysl
CLEARS
PUSHS string@\nVysledek\032je:
DEFVAR TF@__INTERNAL__VAR_0
POPS TF@__INTERNAL__VAR_0
WRITE TF@__INTERNAL__VAR_0
PUSHS TF@vysl
POPS TF@__INTERNAL__VAR_0
WRITE TF@__INTERNAL__VAR_0
PUSHS string@\n
POPS TF@__INTERNAL__VAR_0
WRITE TF@__INTERNAL__VAR_0
# END IF
LABEL __INTERNAL__COND_1_BLOCK_END
# END IF BLOCK
